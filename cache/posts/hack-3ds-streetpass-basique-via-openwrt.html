<p class="alert alert-info">Il s'agit d'exploiter l'ingéniosité des ptits malins du net pour la mise en place d'un <strong>HomePass</strong> sur une base de routeur OpenWRT... ça tombe bien !</p>
<ul class="simple">
<li>Pré-requis #1 : 1 3DS / <a class="reference external" href="installer-openwrt-dans-une-neufbox.html">1 Routeur OpenWRT</a></li>
</ul>
<!-- TEASER_END -->
<ul class="simple">
<li>Pré-requis #2 : Quelques Adresses MAC</li>
</ul>
<p>Du genre de celles -ci, mais y en a d'autres <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0AvvH5W4E2lIwdEFCUkxrM085ZGp0UkZlenp6SkJablE#gid=0">ici</a></p>
<blockquote>
4E:53:50:4F:4F:40 |
4E:53:50:4F:4F:41 |
4E:53:50:4F:4F:42 |
4E:53:50:4F:4F:43 |
4E:53:50:4F:4F:44 |
4E:53:50:4F:4F:45 |
4E:53:50:4F:4F:46 |
4E:53:50:4F:4F:47 |
4E:53:50:4F:4F:48 |
4E:53:50:4F:4F:49 |
4E:53:50:4F:4F:4A |
4E:53:50:4F:4F:4B |
4E:53:50:4F:4F:4C |
4E:53:50:4F:4F:4D |
4E:53:50:4F:4F:4E |
4E:53:50:4F:4F:4F |</blockquote>
<ul class="simple">
<li>Pré - requis #3 : Configurer un Wlan Wifi nommé <strong>attwifi</strong> et <strong>SANS Sécurité</strong></li>
</ul>
<div class="section" id="au-boulot">
<h2>Au boulot</h2>
<div class="section" id="acces-au-routeur-openwrt-en-ssh">
<h3>Accès au routeur OpenWRT en SSH</h3>
<pre class="code bash literal-block">
<span class="nv">$ </span>ssh root&#64;192.168.1.XX <span class="c">#Addresse IP du routeur OpenWRT</span>
</pre>
<p>Et l'on obtient, si c'est la première fois, l'avertissement de fingerprint... suivi du message d'accueil...</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>ssh root&#64;192.168.1.XX

The authenticity of host <span class="s1">'192.168.1.XX (192.168.1.XX)'</span> can<span class="s1">'t be established.
RSA key fingerprint is XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '</span>192.168.1.XX<span class="s1">' (RSA) to the list of known hosts.
root&#64;192.168.1.XX'</span>s password:

BusyBox v1.15.3 <span class="o">(</span>2011-11-24 04:32:28 CET<span class="o">)</span> built-in shell <span class="o">(</span>ash<span class="o">)</span>
Enter <span class="s1">'help'</span> <span class="k">for </span>a list of built-in commands.

_______                     ________        __
|       |.-----.-----.-----.|  |  |  |.----.|  |_
|   -   <span class="o">||</span>  _  |  -__|     <span class="o">||</span>  |  |  <span class="o">||</span>   _||   _|
|_______||   __|_____|__|__||________||__|  |____|
                |__| W I R E L E S S   F R E E D O M
Backfire <span class="o">(</span>10.03.1, r29592<span class="o">)</span> ------------------------
* 1/3 shot Kahlua    In a shot glass, layer Kahlua
* 1/3 shot Bailey<span class="s1">'s  on the bottom, then Bailey'</span>s,
* 1/3 shot Vodka     <span class="k">then </span>Vodka.
---------------------------------------------------
root&#64;OpenWrt:~#
</pre>
<p>Ma version d'OpenWRT date pas mal ...</p>
</div>
<div class="section" id="commandes">
<h3>Commandes</h3>
<p>On utilise les commandes intégrées de l'<strong>uci</strong> :</p>
<pre class="code bash literal-block">
// Création du dummy StreetPass basé sur une adresses MAC de la liste ...
root&#64;OpenWrt:~# uci <span class="nb">set </span>wireless.&#64;wifi-iface<span class="o">[</span>0<span class="o">]</span>.macaddr<span class="o">=</span>00:18:F8:DA:62:41
// Validation des changements
root&#64;OpenWrt:~# uci commit wireless
// Re-init du wifi
root&#64;OpenWrt:~# wifi
</pre>
</div>
<div class="section" id="enjoy">
<h3>Enjoy</h3>
<p>30 secondes plus tard, la 3DS annonce la couleur : elle est Streetpassifiée !</p>
</div>
<div class="section" id="re-joy">
<h3>Re-joy</h3>
<p>On recommence avec une autre addresse, et zou, bonheur.</p>
</div>
</div>
